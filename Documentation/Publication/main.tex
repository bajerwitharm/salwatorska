% Publication name: Inexpensive system for WiFi network access and monitoring
% Author: Marcin Bajer
% Institution: ABB Corporate Research, Krakow, Poland
\documentclass{llncs}
%
\usepackage{makeidx}  % allows for indexgeneration

\usepackage[pdftex]{graphicx}
\usepackage{graphviz}
%

\begin{document}

%
\frontmatter          % for the preliminaries
%
\pagestyle{headings}  % switches on printing of running heads
%
\mainmatter              % start of the contributions
%
\title{Lightweight approach for WiFi network access and monitoring}

\author{Marcin Bajer\inst{1} \and Anna Bajer\inst{2}}
%
\authorrunning{Marcin Bajer} % abbreviated author list (for
% running head)
%
%%%% list of authors for the TOC (use if author list has to be modified)
\tocauthor{Marcin Bajer}
%
\institute{ABB Corporate Research Krakow, Starowi≈õlna 13A, Krakow, Poland,\\
\email{marcin.bajer@pl.abb.com}
\and
Cracow University of Economics, Rakowicka 27, Krakow, Poland,
\email{ann.bajer@gmail.com}}

\maketitle              % typeset the title of the contribution

\begin{abstract}
The goal of this publication is to describe lightweight, cost effective approach
for creating access and monitoring system to WiFi network in small and medium
size buildings.
The basic assumption is that the system should support per user
authentication and network usage statistics.
In contrast to current market available solutions the presented one requires
very little modification of off-the-self low cost routers to enable wide range
of new functionalities. The core or the system is based on OpenWRT Linux running
on multiple WiFi access points spread throughout the building.
For data storage and visualization centralized solution 
based on Node.js server and AngularJS frontend running on RaspberryPi
development board is used.
\keywords{netowork monitoring, access control, RaspberryPi, node.js, smart home}
\end{abstract}
%
\section{Introduction}
%

It is expected that the WiFi market will continue to grow tremendously over the
next few years. One of main driving factors for this is the increasing number of
smart devices (mobiles phones, tablets, smartwatches and smart TVs\ldots). The
observed pattern is to maximum data usage by the end users when they are
stationary connected to WiFi in homes, restaurants and offices.
Additionally, even though the falling prices of mobile transfer, it is common that
smart devices are configured to trigger data intensive applications such as
updates and synchronization only while being connected to WiFi.

Small businesses are often in a difficult position when it comes to network
security. On one hand the growing demand for WiFi access is pushing them
towards allowing more users to access their WiFi network, on the other hand they
lack the cheap and secure solution for doing so. The main requirement for them is
to enable secure per user access and monitoring. 

Further in this paper, the approach for preparation of internal WiFi network in
medium size rent house is presented. The goal of the project is not only to
provide WiFi network to the users, but also to setup backbone for planned
smart home installation.

\section{Network requirements}

The assumption for network to be prepared was to:
\begin{enumerate}
  \item Fast and reliable WiFi throughout whole building,
  \item Cost-oriented implementation,
  \item Separate isolated virtual subnetwork for critical devices
such as surveillance cameras, smart home automation devices or network attached
storage,
  \item Easy to manage, per user, internet access for devices guest devices via
  dedicated subnetwork,
  \item Web page for network administration accessible both internally and
  externally,
  \item External access to internal network via VPN tunnel.
\end{enumerate}


\section{Network access control}

\subsection{Problem of network security}
For many years the focus in network security was placed on protecting
network from external threats using firewalls. Nowadays, attention has turned
towards protecting crucial network resources against the ''enemy within''. To
defend the network against internal threats user authentication and
access control is necessary even for small networks. 

Separate topic is WiFi piggybacking. Apart from security issue,
unauthorized access to network can result in steeling bandwidth, but what is far
worse, piggybacking can be used also as a means of hiding illegal activities
(pornography, torrenting\ldots etc.) impersonating authorized network user. Such
illegal activities can be also performed by authenticated users, in this case it is
important to be able to trace web activity to the particular user of the
network, otherwise network owner would be prosecuted. 

Of course, monitoring and access control is only a part of complex topic of
network security. Apart from controlling how the network is used, it is
necessary to protect the network from attacks that are aim to corrupt the data
or influence on proper work of network elements. Those problems will not be
described in this paper since in case of described system it was decided that additional protection against such actions is not needed.

\subsection{Choosing an WiFi encryption method}
It is known that Wired Equivalent Privacy (WAP) based approach for
securing WiFi network contains serious vulnerabilities that allows to
easily crack password protecting the wireless by sniffing airwaves.
Therefore, it is highly recommended to use more secure Wi-Fi Protected Access
(WPA or WPA2) encryption method. WPA has two versions: PSK
(Pre-shared key) and Enterprise. Although, using WPA2-PSK AES together
with complex, non-dictionary pass-phrase is considered as safe solution, it has
significant drawback of using common key across all users.
In case password is compromised all devices in the
network reprogrammed. Solution to this problem is to use WPA/WPA2 Enterprise
instead. In contrast to WPA-PSK each has given unique credentials
(password or electronics certificate). Traditionally, the WPA-Enterprise
implementation requires purchasing dedicated server device. To reduce
costs, further in this paper process of installing FreeRadius server on
off-the-self router (Tp-Link TL-WDR4300) is described.


The authentication method used to verify the user (and server) credentials on
WPA/WPA2-Enterprise networks is defined in the IEEE 802.1X standard.

There are many different EAP variants (PEAP, LEAP, WPA, WPA2\ldots etc.). In
described network it was decided that two VLANs were created - the one
publicly available protected with EAP and a separate one, available only in
key protected cabinets dedicated for non EAP compliant devices (i.e. cameras)
 


\subsection{Radius server}
An Authentication Authorization Accounting (AAA) \cite{rfc2903}\cite{rfc2904}
concept was designed to authenticate and authorize users for use of network
resources. Authentication part confirms that a user who is requesting a service
is a valid user. Authorization grants specific types of service to a user, based
on their authentication. Accounting refers to the tracking of the consumption of
network resources by users.

Remote Authentication Dial-In User Service (RADIUS) \cite{rfc2865} is one of
most widely used protocols to provide AAA. For the network presented in this
publication FreeRadius \cite{freeRadius} has been used. To reduce load on
router, the server is running on one of the WiFi access points. Router and other
APs are considered as clients for FreeRadius server. 

%% Start of dot diagram
\begin{figure}
\includedot[width=\textwidth]{./Graphics/NetworkTopology/topology}
\vspace{-15pt}
\caption{Topology of prepared network}
\end{figure}
%% End of dot diagram

%% Start of dot diagram
\begin{figure}
\includedot[width=\textwidth]{./Graphics/Database/schema}
\vspace{-15pt}
\caption{Schema of database}
\end{figure}
%% End of dot diagram

%% Start of dot diagram
\begin{figure}
\includedot[width=\textwidth]{./Graphics/Radius/radius}
\vspace{-15pt}
\caption{Radius}
\end{figure}
%% End of dot diagram

%
% ---- Bibliography ----
%
\begin{thebibliography}{}
%
\bibitem{rfc2903}
de Laat, C., Gross, G., Gommans, L., Vollbrecht, J., and D. Spence, "Generic AAA
Architecture", RFC 2903, August 2000, http://www.rfc-editor.org/info/rfc2903,
\bibitem{rfc2904}
Vollbrecht, J., Calhoun, P., Farrell, S., Gommans, L., Gross, G., de Bruijn, B.,
de Laat, C., Holdrege, M., and D. Spence, "AAA Authorization Framework", RFC
2904, August 2000, http://www.rfc-editor.org/info/rfc2904,
\bibitem{rfc2865}
Rigney, C., Willens, S., Rubens, A., and W. Simpson, "Remote  Authentication
Dial In User Service (RADIUS)", RFC 2865, June 2000,
http://www.rfc-editor.org/info/rfc2865,
\bibitem{freeRadius}
FreeRadius technical guide,
http://networkradius.com/doc/FreeRADIUS%20Technical%20Guide.pdf (accessed
% 29.11.2014)
\end{thebibliography}



\clearpage
\addtocmark[2]{Author Index} % additional numbered TOC entry
\renewcommand{\indexname}{Author Index}
\printindex
\clearpage
\addtocmark[2]{Subject Index} % additional numbered TOC entry
\markboth{Subject Index}{Subject Index}
\renewcommand{\indexname}{Subject Index}
\input{subjidx.ind}
\end{document}
